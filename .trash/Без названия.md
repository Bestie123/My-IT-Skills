---
tags:
  - java
  - operators
  - mathematics
related:
  - Math.floorMod
  - Арифметические операторы
aliases:
  - Оператор остатка Java
---
# Оператор % (остаток от деления) в Java

Общее описание

Оператор % в Java возвращает остаток от деления левого операнда на правый операнд.

```java
результат = делимое % делитель
```

Синтаксис

```java
int result = a % b;
double result = x % y;
```

Поведение с разными типами данных

Целочисленные типы (int, long, short, byte)

```java
// Положительные числа
System.out.println(7 % 3);    // 1
System.out.println(10 % 2);   // 0
System.out.println(15 % 4);   // 3

// Отрицательные числа - ВАЖНО!
System.out.println(-7 % 3);   // -1
System.out.println(7 % -3);   // 1
System.out.println(-7 % -3);  // -1
```

Правило для целых чисел: знак результата всегда совпадает со знаком делимого.

Числа с плавающей точкой (float, double)

```java
// Дробные числа
System.out.println(7.5 % 2.5);    // 0.0
System.out.println(7.5 % 2.0);    // 1.5
System.out.println(7.8 % 3.2);    // 1.4000000000000004 (погрешность)

// Отрицательные дробные числа
System.out.println(-7.5 % 2.5);   // -0.0
System.out.println(7.5 % -2.5);   // 0.0
```

Особые случаи и исключения

Деление на ноль

```java
// Для целых чисел - ArithmeticException
try {
    int result = 10 % 0; // ArithmeticException
} catch (ArithmeticException e) {
    System.out.println("Деление на ноль!");
}

// Для чисел с плавающей точкой - специальные значения
double result1 = 10.0 % 0.0;  // NaN
double result2 = 10.0 % -0.0; // NaN
```

Особые значения

```java
System.out.println(0 % 5);        // 0
System.out.println(5 % 1);        // 0
System.out.println(Double.NaN % 5); // NaN
System.out.println(5 % Double.NaN); // NaN
System.out.println(Double.POSITIVE_INFINITY % 5); // NaN
System.out.println(5 % Double.POSITIVE_INFINITY); // 5.0
```

Альтернативы и связанные методы

Math.floorMod() - альтернатива для отрицательных чисел

```java
// Math.floorMod() vs %
System.out.println(-7 % 3);           // -1
System.out.println(Math.floorMod(-7, 3)); // 2

System.out.println(7 % -3);           // 1  
System.out.println(Math.floorMod(7, -3)); // -2
```

Math.floorMod() всегда возвращает неотрицательный результат для положительного делителя.

Проверка на чётность

```java
public static boolean isEven(int number) {
    return number % 2 == 0;
}

public static boolean isOdd(int number) {
    return number % 2 != 0;
}
```

Практические примеры использования

Циклические операции

```java
// Циклический счётчик 0-2
for (int i = 0; i < 10; i++) {
    System.out.println(i % 3); // 0, 1, 2, 0, 1, 2, 0, 1, 2, 0
}

// Круговой буфер
int[] buffer = new int[5];
int index = 0;
for (int i = 0; i < 10; i++) {
    buffer[index] = i;
    index = (index + 1) % buffer.length;
}
```

Ограничение диапазона

```java
// Нормализация угла в градусах (0-359)
public static int normalizeAngle(int angle) {
    return ((angle % 360) + 360) % 360;
}

// Случайный индекс в массиве
public static int getRandomIndex(int arrayLength) {
    return Math.abs(new Random().nextInt() % arrayLength);
}
```

Проверка делимости

```java
// Кратность проверка
public static boolean isDivisibleBy(int number, int divisor) {
    return number % divisor == 0;
}

// FizzBuzz
for (int i = 1; i <= 100; i++) {
    if (i % 15 == 0) System.out.println("FizzBuzz");
    else if (i % 3 == 0) System.out.println("Fizz");
    else if (i % 5 == 0) System.out.println("Buzz");
    else System.out.println(i);
}
```

Производительность и оптимизация

· Оператор % работает быстрее с степенями двойки
· Для степеней двойки можно использовать битовые операции:

```java
// Вместо n % 8 можно использовать
int result1 = n % 8;
int result2 = n & 0x7; // Быстрее для степеней двойки
```

Распространённые ошибки

Ошибка с отрицательными числами

```java
// Неправильная проверка чётности для отрицательных чисел
public static boolean badIsEven(int n) {
    return n % 2 == 1; // Не работает для отрицательных чисел!
}

// Правильная версия
public static boolean goodIsEven(int n) {
    return n % 2 == 0;
}
```

Проблемы с дробными числами

```java
// Из-за погрешности вычислений
System.out.println(0.1 % 0.1); // Не всегда 0.0!
```

Связь с другими операторами

Оператор % имеет тот же приоритет, что и операторы умножения (*) и деления (/):

```java
int result = 10 + 5 * 3 % 2; // = 10 + ((5 * 3) % 2) = 10 + (15 % 2) = 10 + 1 = 11
```

Примечания для Obsidian

```yaml
tags: [java, operators, mathematics]
related: [[Math.floorMod]], [[Арифметические операторы Java]], [[Исключения в Java]]
level: базовый
```

Эта документация охватывает все основные аспекты оператора % в Java и готова для добавления в вашу базу знаний Obsidian. с другими операторами

Оператор `%` имеет тот же приоритет, что и операторы умножения (`*`) и деления (`/`):

```java
int result = 10 + 5 * 3 % 2; // = 10 + (5 * 3) % 2
```

## Примечания
- **YAML фронтматер** в начале файла для метаданных
- **Теги** для категоризации
- **Связанные заметки** через поле `related` или прямые ссылки `[[ ]]`
- **Блоки кода** с указанием языка

---

Эта документация охватывает все основные аспекты оператора `%` в Java.

Связанные заметки: [[Math.floorMod]], [[Арифметические операторы]]