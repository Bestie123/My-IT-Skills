Документация по явным операциям соединения в SQL

<html>
<head>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; margin: 20px; }
        h1, h2, h3 { color: #333; }
        .content-section { margin-bottom: 30px; padding: 20px; border-left: 4px solid #007acc; background: #f9f9f9; }
        .code-block { background: #f4f4f4; padding: 15px; border-radius: 5px; overflow-x: auto; margin: 15px 0; }
        .nav-links { background: #e9ecef; padding: 15px; border-radius: 5px; margin: 20px 0; }
        table { border-collapse: collapse; width: 100%; margin: 15px 0; }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
        th { background-color: #007acc; color: white; }
        tr:nth-child(even) { background-color: #f2f2f2; }
        .example-table { background: #fff; border: 2px solid #007acc; }
        .warning { background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin: 15px 0; }
        .best-practice { background: #d1ecf1; border-left: 4px solid #0c5460; padding: 15px; margin: 15px 0; }
    </style>
</head>
<body>

<div class="nav-links">
    <h2>Быстрая навигация</h2>
    <ul>
        <li><a href="#introduction">Введение в JOIN</a></li>
        <li><a href="#join-types">Типы JOIN операций</a></li>
        <li><a href="#inner-join">INNER JOIN</a></li>
        <li><a href="#left-join">LEFT JOIN</a></li>
        <li><a href="#right-join">RIGHT JOIN</a></li>
        <li><a href="#full-join">FULL OUTER JOIN</a></li>
        <li><a href="#cross-join">CROSS JOIN</a></li>
        <li><a href="#self-join">SELF JOIN</a></li>
        <li><a href="#multiple-join">Множественные JOIN</a></li>
        <li><a href="#join-where">JOIN с условиями WHERE</a></li>
        <li><a href="#performance">Производительность JOIN</a></li>
        <li><a href="#best-practices">Лучшие практики</a></li>
    </ul>
</div>

<h1>Документация по явным операциям соединения в SQL</h1>

<div id="introduction" class="content-section">
    <h2>Введение в JOIN</h2>
    <p>JOIN (соединение) - это операция в SQL, которая позволяет объединять данные из двух или более таблиц на основе связанных столбцов между ними. JOIN является фундаментальной операцией в реляционных базах данных.</p>

SELECT столбцы
FROM таблица1
JOIN таблица2 ON условие_соединения;</code></pre>
</div>

</div>

<div id="join-types" class="content-section">
    <h2>Типы JOIN операций</h2>
    <p>В SQL существуют несколько типов JOIN операций, каждая из которых возвращает разные результаты:</p>

</div>

<div id="inner-join" class="content-section">
    <h2>INNER JOIN</h2>
    <p>INNER JOIN возвращает только те строки, для которых условие соединения истинно в обеих таблицах.</p>

SELECT столбцы
FROM таблица1
INNER JOIN таблица2 ON таблица1.столбец= таблица2.столбец;</code></pre>
</div>

CREATE TABLE employees (
id INT PRIMARY KEY,
name VARCHAR(50),
department_id INT
);

CREATE TABLE departments (
id INT PRIMARY KEY,
department_name VARCHAR(50)
);

-- INNER JOIN пример
SELECT e.name,d.department_name
FROM employees e
INNER JOIN departments d ON e.department_id= d.id;</code></pre>
</div>

</div>

<div id="left-join" class="content-section">
    <h2>LEFT JOIN</h2>
    <p>LEFT JOIN возвращает все строки из левой таблицы и совпадающие строки из правой таблицы. Если совпадений нет, возвращается NULL для правой таблицы.</p>

SELECT столбцы
FROM таблица1
LEFT JOIN таблица2 ON таблица1.столбец= таблица2.столбец;</code></pre>
</div>

SELECT e.name, d.department_name
FROM employees e
LEFT JOIN departments d ON e.department_id= d.id;</code></pre>
</div>

</div>

<div id="right-join" class="content-section">
    <h2>RIGHT JOIN</h2>
    <p>RIGHT JOIN возвращает все строки из правой таблицы и совпадающие строки из левой таблицы. Если совпадений нет, возвращается NULL для левой таблицы.</p>

SELECT столбцы
FROM таблица1
RIGHT JOIN таблица2 ON таблица1.столбец= таблица2.столбец;</code></pre>
</div>

SELECT e.name, d.department_name
FROM employees e
RIGHT JOIN departments d ON e.department_id= d.id;</code></pre>
</div>

</div>

<div id="full-join" class="content-section">
    <h2>FULL OUTER JOIN</h2>
    <p>FULL OUTER JOIN возвращает все строки из обеих таблиц. Если совпадений нет, возвращается NULL для отсутствующих данных.</p>

SELECT столбцы
FROM таблица1
FULL OUTER JOIN таблица2 ON таблица1.столбец= таблица2.столбец;</code></pre>
</div>

SELECT e.name, d.department_name
FROM employees e
FULL OUTER JOIN departments d ON e.department_id= d.id;</code></pre>
</div>

SELECT e.name, d.department_name
FROM employees e
LEFT JOIN departments d ON e.department_id= d.id
UNION
SELECT e.name,d.department_name
FROM employees e
RIGHT JOIN departments d ON e.department_id= d.id;</code></pre>
</div>
</div>

</div>

<div id="cross-join" class="content-section">
    <h2>CROSS JOIN</h2>
    <p>CROSS JOIN возвращает декартово произведение таблиц - каждая строка первой таблицы соединяется с каждой строкой второй таблицы.</p>

SELECT столбцы
FROM таблица1
CROSS JOIN таблица2;</code></pre>
</div>

SELECT e.name, d.department_name
FROM employees e
CROSS JOIN departments d;</code></pre>
</div>

</div>

<div id="self-join" class="content-section">
    <h2>SELF JOIN</h2>
    <p>SELF JOIN - это соединение таблицы с самой собой. Полезно для иерархических данных.</p>

SELECT a.столбцы, b.столбцы
FROM таблица a
JOIN таблица b ON условие;</code></pre>
</div>

CREATE TABLE employees_hierarchy (
id INT PRIMARY KEY,
name VARCHAR(50),
manager_id INT
);

-- SELF JOIN пример: сотрудники и их менеджеры
SELECT e.name AS employee_name,m.name AS manager_name
FROM employees_hierarchy e
LEFT JOIN employees_hierarchy m ON e.manager_id= m.id;</code></pre>
</div>

</div>

<div id="multiple-join" class="content-section">
    <h2>Множественные JOIN</h2>
    <p>Можно соединять более двух таблиц в одном запросе.</p>

SELECT столбцы
FROM таблица1
JOIN таблица2 ON условие1
JOIN таблица3 ON условие2
...;</code></pre>
</div>

CREATE TABLE projects (
id INT PRIMARY KEY,
project_name VARCHAR(50),
department_id INT
);

-- Множественные JOIN: сотрудники, отделы, проекты
SELECT e.name,d.department_name, p.project_name
FROM employees e
INNER JOIN departments d ON e.department_id= d.id
INNER JOIN projects p ON d.id= p.department_id;</code></pre>
</div>

SELECT e.name, d.department_name, p.project_name
FROM employees e
LEFT JOIN departments d ON e.department_id= d.id
LEFT JOIN projects p ON d.id= p.department_id;</code></pre>
</div>

</div>

<div id="join-where" class="content-section">
    <h2>JOIN с условиями WHERE</h2>
    <p>JOIN можно комбинировать с условиями WHERE для фильтрации результатов.</p>

SELECT столбцы
FROM таблица1
JOIN таблица2 ON условие_соединения
WHERE условия_фильтрации;</code></pre>
</div>

SELECT e.name, d.department_name, e.salary
FROM employees e
INNER JOIN departments d ON e.department_id= d.id
WHERE d.department_name= 'IT' AND e.salary > 50000;

-- LEFT JOIN с фильтрацией по правой таблице
SELECT e.name,d.department_name
FROM employees e
LEFT JOIN departments d ON e.department_id= d.id
WHERE d.department_name IS NULL;-- Сотрудники без отдела</code></pre>
</div>

</div>

<div id="performance" class="content-section">
    <h2>Производительность JOIN</h2>

SELECT *
FROM large_table1
JOIN large_table2 ON large_table1.id= large_table2.table1_id;

-- Быстрый запрос (с индексами)
CREATE INDEX idx_table1_id ON large_table1(id);
CREATE INDEX idx_table2_table1_id ON large_table2(table1_id);

SELECT large_table1.column1, large_table2.column2
FROM large_table1
JOIN large_table2 ON large_table1.id= large_table2.table1_id
WHERE large_table1.category= 'A';</code></pre>
</div>

</div>

<div id="best-practices" class="content-section">
    <h2>Лучшие практики</h2>

SELECT 
e.employee_name,
d.department_name,
p.project_name
FROM employees e
INNER JOIN departments d ON e.department_id = d.dept_id
LEFT JOIN projects p ON d.dept_id = p.department_id
WHERE e.hire_date> '2020-01-01'
AND d.active = true
ORDER BY e.employee_name;</code></pre>
</div>

</div>

<div class="nav-links">
    <h2>Теги для навигации</h2>
    <p>
        <strong>#SQL</strong> 
        <strong>#JOIN</strong> 
        <strong>#INNER_JOIN</strong> 
        <strong>#LEFT_JOIN</strong> 
        <strong>#RIGHT_JOIN</strong> 
        <strong>#FULL_OUTER_JOIN</strong> 
        <strong>#CROSS_JOIN</strong> 
        <strong>#SELF_JOIN</strong> 
        <strong>#базы_данных</strong> 
        <strong>#SQL_оптимизация</strong>
    </p>

</div>

</body>
</html>