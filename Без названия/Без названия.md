
| №   | Критерий                                                                     | Обяз./Желат. | Для чего это нужно                                                           | Последствия, если не сделать сразу / отложить на потом                                                  |
| --- | ---------------------------------------------------------------------------- | ------------ | ---------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------- |
| 1   | Модульность движка (ядро легко отделяется от UI и плагинов)                  | Обязательный | Легко тестировать, заменять UI-фреймворк, делать мобильные/десктопные версии | Через год-два будет монолитный спагетти-код, любая смена UI = переписывание половины проекта            |
| 2   | Блочность добавляемых элементов (всё — блоки)                                | Обязательный | Единая модель данных, единые операции, единый рендер                         | Появятся «особые» сущности вне блоков → ломаются refs, поиск, transclusion, плагины                     |
| 3   | Взаимное изменение элементов в реальном времени (live update без задержек)   | Обязательный | Ощущение «живого» документа, мгновенная обратная связь                       | Пользователи будут привыкать к лагам → потом невозможно будет ускорить без полного рефакторинга рендера |
| 4   | Каждый плагин в виде отдельного файла                                        | Обязательный | Простая установка/удаление, tree-shaking, ленивая загрузка                   | Плагины начнут «сливаться» в один бандл → медленная загрузка, невозможно отключить один плагин          |
| 5   | У каждого блока свой уникальный глобальный UUID (v4/v7, не меняется никогда) | Обязательный | Надёжная идентификация при merge, синхронизации, E2EE, миграции              | Невозможно будет делать надёжный merge, P2P-синхронизацию, E2EE и перенос базы между устройствами       |
| 6   | Возможность перемещать блоки внутри редактора (drag & drop)                  | Обязательный | Основной способ реорганизации знаний                                         | Пользователи будут мучаться копипастом → низкая вовлечённость и отток                                   |
| 7   | Режим просмотра зависимостей между блоками (граф связей / graph view)        | Обязательный | Видеть связи и структуру знаний наглядно                                     | Без графа инструмент превращается в «продвинутый Markdown» — теряется смысл outliner-а нового поколения |
| 8   | Горячие клавиши (Ctrl+S, Ctrl+Z/Y, Ctrl+D, Ctrl+Enter и др.)                 | Обязательный | Продуктивность power-пользователей                                           | Пользователи будут уходить в Vim/Emacs-подобные инструменты                                             |
| 9   | Undo/Redo (глубокая история ≥ 1000 шагов)                                    | Обязательный | Защита от случайных ошибок, смелое экспериментирование                       | Люди будут бояться что-то трогать → низкая активность и рост базы                                       |
| 10  | Автосохранение каждые 3–5 сек + версии/snapshots с timestamp                 | Обязательный | Никогда не потерять данные                                                   | Одна авария браузера = потерянные часы/дни работы → репутационный крах                                  |
| 11  | Экспорт/импорт всей базы в открытых форматах (JSON обязательно)              | Обязательный | Data ownership, миграция, бэкапы                                             | Пользователи будут бояться «vendor lock-in» и не станут вкладываться в инструмент                       |
| 12  | Поиск по всем блокам + глобальный граф поиска                                | Обязательный | Быстро находить нужную информацию в большой базе                             | При росте базы > 5–10 к блоков инструмент станет бесполезным                                            |
| 13  | Тёмная/светлая тема + пользовательские CSS-темы                              | Обязательный | Комфорт глаз, персонализация                                                 | Отток пользователей с чувствительными глазами и любителей кастомизации                                  |
| 14  | Вложенные блоки (иерархия любой глубины)                                     | Обязательный | Естественная структура мыслей и документов                                   | Невозможно будет делать нормальные документы и заметки                                                  |
| 15  | Порядок дочерних блоков сохраняется и меняется drag & drop                   | Обязательный | Интуитивное управление структурой                                            | Хаос в документах, пользователи будут страдать                                                          |
| 16  | Каждый блок может содержать богатый текст (Markdown-подобный + сущности)     | Обязательный | Удобный ввод и читаемость                                                    | Люди будут копировать текст из других приложений → плохой UX                                            |
| 17  | Refs: любой блок может ссылаться на любой другой по UUID                     | Обязательный | Основа knowledge graph                                                       | Без жёстких ссылок невозможно делать transclusion, быстрые queries, graph view                          |
| 18  | Backlinks: мгновенный доступ к обратным ссылкам                              | Обязательный | Двусторонние связи — главный козырь Roam-like инструментов                   | Односторонние ссылки → мёртвый граф, пользователи не видят контекст                                     |
| 19  | Drag & drop с модификаторами (копирование, создание ссылки и т.д.)           | Обязательный | Быстрое создание нужного типа связи без меню                                 | Медленная и раздражающая работа                                                                         |
| 20  | Коллапс/разворот вложенных блоков                                            | Обязательный | Фокус на нужной части документа                                              | Длинные документы становятся нечитаемыми                                                                |
| 21  | Bullet threading (линия, соединяющая уровни)                                 | Обязательный | Визуальная читаемость иерархии                                               | Документы выглядят плоско и некрасиво                                                                   |
| 22  | Все данные локально в открытом читаемом формате (JSON или SQLite)            | Обязательный | Прозрачность, возможность скриптов, бэкапы                                   | Vendor lock-in, невозможность автоматизации                                                             |
| 23  | Полная оффлайн-работа                                                        | Обязательный | Работа в самолёте, метро, на даче — must-have для PKM                        | Ограниченная аудитория                                                                                  |
| 24  | Возможность программно читать/изменять базу                                  | Обязательный | Автоматизация, скрипты, миграции, интеграции                                 | Пользователи-программисты уйдут                                                                         |
| 25  | Режим «только чтение» и «презентация»                                        | Обязательный | Публикация заметок, шаринг без риска изменения                               | Невозможно делиться знаниями                                                                            |
| 26  | Теги и фильтры блоков                                                        | Обязательный | Альтернативная навигация и организация                                       | Хаос в большой базе                                                                                     |
| 27  | Zoom / фокус на блоке                                                        | Желательный  | Глубокая концентрация на одной мысли                                         | Можно добавить позже без больших проблем                                                                |
| 28  | Несколько открытых документов (вкладки/split-view)                           | Желательный  | Работа с несколькими контекстами одновременно                                | Можно реализовать позже                                                                                 |
| 29  | Astroport #1: UI 100 % декларативный (JSON-структуры / ViewScript)           | Обязательный | Предсказуемый рендер, лёгкая отладка, возможность тем и плагинов изменять UI | Хаотичный imperative-код UI → баги, которые невозможно отладить                                         |
| 30  | Astroport #2: zero runtime logic в рендере (чистая функция)                  | Обязательный | Отсутствие race conditions, предсказуемость, лёгкий SSR                      | Через 30–40 плагинов начнутся необъяснимые баги и глюки интерфейса                                      |
| 31  | Astroport #3: single source of truth = CRDT (Yjs/Automerge)                  | Обязательный | Будущая коллаборация, оффлайн-merge без конфликтов                           | Без CRDT потом невозможно добавить реальную коллаборацию и конфликт-free sync                           |
| 32  | Astroport #4: immutable ops log                                              | Обязательный | Полный аудит, versioning, откаты, branching                                  | Без лога невозможно block-level versioning, diff и восстановление после багов                           |
| 33  | Astroport #5: schema-first + runtime валидация                               | Обязательный | Совместимость плагинов, безопасные обновления                                | Зоопарк несовместимых плагинов и невозможность обновлений без поломки данных                            |
| 34  | Live preview + WYSIWYG Markdown                                              | Обязательный | Удобный ввод без переключения режимов                                        | Пользователи будут страдать от «режима кода»                                                            |
| 35  | Transclusion / Embed блоков с живой синхронизацией                           | Обязательный | Мощнейшая фича повторного использования контента                             | Без транслюзии инструмент теряет 50 % своей суперсилы                                                   |
| 36  | Block-level versioning                                                       | Обязательный | История изменений отдельного блока независимо от документа                   | Невозможно откатить только один блок, пользователи будут терять данные                                  |
| 37  | Templates + Template blocks                                                  | Обязательный | Быстрое создание однотипных структур (встречи, задачи, люди и т.д.)          | Люди будут копировать вручную → потеря времени и consistency                                            |
| 38  | Code blocks с исполнением (Mermaid, Excalidraw, JS/Python и др.)             | Обязательный | Живые диаграммы и вычисления прямо в заметках                                | Инструмент останется «только текстом»                                                                   |
| 39  | Аннотации PDF/изображений/видео внутри блоков                                | Обязательный | Работа с любым контентом в едином месте                                      | Пользователи будут держать PDF отдельно → разрыв знаний                                                 |
| 40  | Virtual scrolling + ленивая загрузка (100 к+ блоков без тормозов)            | Обязательный | Работа с огромными базами                                                    | Привычка «всё в DOM» убьёт производительность навсегда                                                  |
| 41  | Whiteboards / Infinite canvas с живыми блоками                               | Желательный  | Свободное пространственное мышление                                          | Можно добавить позже                                                                                    |
| 42  | Spatial mode (2D/3D расстановка блоков)                                      | Желательный  | Новый способ организации идей                                                | Можно добавить позже                                                                                    |
| 43  | Timeline view                                                                | Желательный  | Хронологический обзор изменений и событий                                    | Можно добавить позже                                                                                    |
| 44  | Плагины на WebAssembly                                                       | Желательный  | Почти нативная скорость расширений                                           | Можно добавить позже                                                                                    |
| 45  | Полноценный публичный Plugin API + магазин                                   | Обязательный | Экосистема — главный драйвер роста (Obsidian, Logseq)                        | Без магазина приложение останется нишевым                                                               |
| 46  | Конфликт-менеджмент при синхронизации                                        | Обязательный | Оффлайн-first работа без потери данных                                       | Пользователи будут терять данные при одновременном редактировании                                       |
| 47  | Режим «sandbox» для плагинов                                                 | Обязательный | Безопасность пользователя и стабильность приложения                          | Один вредоносный плагин может украсть или сломать все данные                                            |
| 48  | Custom renderers для блоков                                                  | Желательный  | Неограниченная визуализация (карты, графики и т.д.)                          | Можно добавить позже                                                                                    |
| 49  | Автоматические тесты для плагинов                                            | Обязательный | Гарантия совместимости после обновлений ядра                                 | Плагины будут ломаться при каждом обновлении → плохая репутация                                         |
| 50  | Cross-Tab Synchronization                                                    | Обязательный | Одинаковое состояние во всех вкладках                                        | Пользователь будет видеть разное состояние в разных вкладках → путаница                                 |
| 51  | Background Auto-Save с Debounce                                              | Обязательный | Не терять данные, но не спамить диском при быстром наборе                    | Частые сохранения = тормоза и износ SSD/flash                                                           |
| 52  | Error Boundaries для плагинов                                                | Обязательный | Один упавший плагин не валит весь редактор                                   | Падение одного плагина = падение всего приложения                                                       |
| 53  | Multi-Window Sync                                                            | Желательный  | Совместная работа в нескольких окнах                                         | Можно добавить позже                                                                                    |
| 54  | Circular Reference Detection                                                 | Обязательный | Предотвращение бесконечных циклов при транслюзии и рендере                   | Циклы = краш или бесконечный рендер                                                                     |
| 55  | Event Sourcing Architecture                                                  | Обязательный | Полный аудит, возможность replay, откаты                                     | Без событий невозможно делать нормальный versioning и debug                                             |
| 56  | Web Workers для тяжёлых операций                                             | Обязательный | UI остаётся отзывчивым даже на 200 к+ блоков                                 | UI будет зависать при поиске/индексации                                                                 |
| 57  | JIT Compilation горячих путей                                                | Желательный  | Максимальная производительность на больших базах                             | Можно добавить позже                                                                                    |
| 58  | Query Language для блоков (типа Logseq-query)                                | Обязательный | Мощные динамические представления и дашборды                                 | Без запросов пользователи не смогут строить свои views → ограниченная гибкость                          |
| 59  | Properties / Attributes у блоков с индексацией                               | Обязательный | Структурированные данные, фильтры, сортировка                                | Только текст+теги = слабая структуризация                                                               |
| 60  | Full-text search с постоянной индексацией (WASM-Tantivy и т.п.)              | Обязательный | Мгновенный поиск даже на 100 к+ блоков                                       | Медленный поиск = приложение становится непригодным при росте базы                                      |
| 61  | Namespaces / Workspaces                                                      | Обязательный | Разделение личного/рабочего/проектов в одном приложении                      | Всё в одной куче → быстро тонет в хаосе                                                                 |
| 62  | Персистентные человекочитаемые алиасы ([[Person/Ivan]])                      | Обязательный | Удобные ссылки вместо голых UUID                                             | Пользователи будут путаться в UUID-ах                                                                   |
| 63  | Автоматическое создание backlinks при упоминании [[...]]                     | Обязательный | Магия двусторонних связей                                                    | Ручное создание ссылок = мёртвая фича                                                                   |
| 64  | Version diff & compare                                                       | Обязательный | Видеть, что именно изменилось                                                | Слепые изменения → ошибки и потеря контекста                                                            |
| 65  | Plugin-to-plugin communication protocol                                      | Желательный  | Сложные составные плагины (например, календарь + задачи)                     | Можно добавить позже, но будет сложнее                                                                  |
| 66  | Единый глобальный UUID v4/v7 для каждой сущности                             | Обязательный | Основа всей распределённой системы                                           | Без этого невозможно merge, sync, E2EE — придётся переписывать всё                                      |
| 67  | Все изменения только через CRDT-операции                                     | Обязательный | Будущая коллаборация и оффлайн-merge без боли                                | Добавление коллаборации потом = полный рефакторинг данных                                               |
| 68  | Полностью immutable ops log + event sourcing с первого дня                   | Обязательный | Аудит, versioning, откаты, branching                                         | Без лога потом невозможно добавить нормальную историю и откаты                                          |
| 69  | Schema-first + runtime валидация                                             | Обязательный | Совместимость плагинов и безопасные миграции                                 | Зоопарк данных и сломанные плагины при обновлениях                                                      |
| 70  | Блоки ≠ страницы (плоский граф блоков)                                       | Обязательный | Гибкие transclusion и queries                                                | Как у 95 % конкурентов — потом невозможно нормально делать транслюзию                                   |
| 71  | Отсутствие глобального mutable состояния в UI                                | Обязательный | Предсказуемость и отладка                                                    | Race conditions и необъяснимые баги через полгода-год                                                   |
| 72  | References и backlinks — first-class в CRDT                                  | Обязательный | Быстрые запросы и транслюзия                                                 | Хранение только в тексте = медленные и ненадёжные ссылки                                                |
| 73  | Единый индексный движок с самого начала                                      | Обязательный | Производительность поиска на больших базах                                   | 5 разных поисков → тормоза уже на 20 к блоков                                                           |
| 74  | Файловая структура под будущую синхронизацию и selective sync                | Обязательный | Лёгкий переход на P2P и многопользовательский режим                          | Потом перестраивать структуру = ломать все базы пользователей                                           |
| 75  | Sandboxed плагины с capability-based permissions                             | Обязательный | Безопасность и доверие пользователей                                         | Один плохой плагин может всё сломать или украсть                                                        |
| 76  | Атомарные транзакции операций                                                | Обязательный | Целостность данных, нормальный undo/redo                                     | Полублоки и сломанные связи после undo                                                                  |
| 77  | Поддержка и обработка циклических ссылок с первого дня                       | Обязательный | Пользователь не сломает себе граф                                            | Циклы = краш приложения или бесконечный рендер                                                          |
| 78  | Ленивая загрузка + virtual list с первого дня                                | Обязательный | Масштабируемость на миллионы блоков                                          | Привычка «всё в DOM» убьёт производительность навсегда                                                  |
| 79  | Отдельный worker для всех тяжёлых операций                                   | Обязательный | 60 fps даже на слабом железе                                                 | UI будет виснуть при любом поиске или парсинге                                                          |
| 80  | E2EE-ready формат хранения с первого дня                                     | Обязательный | Будущая возможность шифрования без breaking changes                          | Добавление E2EE потом = миграция всех существующих баз пользователей (почти невозможно)                 |

