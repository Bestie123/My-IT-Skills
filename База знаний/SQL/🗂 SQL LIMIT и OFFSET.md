
---

üóÇ SQL: LIMIT –∏ OFFSET

#sql #–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö #–ø–∞–≥–∏–Ω–∞—Ü–∏—è

üîπ –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

LIMIT –∏ OFFSET ‚Äî —ç—Ç–æ –∫–ª—é—á–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã SQL, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π (—Ä–∞–∑–±–∏–µ–Ω–∏–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã) —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–∞. –û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–æ–ª—å—à–∏–º–∏ –Ω–∞–±–æ—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö, –≤–æ–∑–≤—Ä–∞—â–∞—è —Ç–æ–ª—å–∫–æ –∏—Ö —á–∞—Å—Ç—å, —á—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —É–¥–æ–±—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π –ª–µ–Ω—Ç–µ –∏–ª–∏ —Ç–∞–±–ª–∏—Ü–µ —Å –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–º –≤—ã–≤–æ–¥–æ–º).

---

üìñ LIMIT

LIMIT –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–º.

¬∑ –ê–Ω–∞–ª–æ–≥–∏—è: "–í–µ—Ä–Ω–∏ –º–Ω–µ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ N –∑–∞–ø–∏—Å–µ–π –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞."
¬∑ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –ß–∞—â–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–ø-N –∑–∞–ø–∏—Å–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, 5 —Å–∞–º—ã—Ö –¥–æ—Ä–æ–≥–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤) –∏–ª–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏.

üíª –°–∏–Ω—Ç–∞–∫—Å–∏—Å (–≤–∞—Ä–∏–∞–Ω—Ç—ã)

```sql
-- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ PostgreSQL, MySQL, SQLite)
SELECT * FROM —Ç–∞–±–ª–∏—Ü–∞
LIMIT 10;

-- –°–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è SQL Server (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç TOP)
SELECT TOP 10 * FROM —Ç–∞–±–ª–∏—Ü–∞;

-- –°–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è Oracle (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç ROWNUM –≤ —É—Å–ª–æ–≤–∏–∏ WHERE)
SELECT * FROM —Ç–∞–±–ª–∏—Ü–∞
WHERE ROWNUM <= 10;
```

üß™ –ü—Ä–∏–º–µ—Ä

```sql
-- –ü–æ–ª—É—á–∏—Ç—å 3 —Å–∞–º—ã—Ö –Ω–æ–≤—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
SELECT name, hire_date FROM employees
ORDER BY hire_date DESC
LIMIT 3;
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: –≤–µ—Ä–Ω–µ—Ç—Å—è –Ω–µ –±–æ–ª–µ–µ 3 –∑–∞–ø–∏—Å–µ–π.

---

üìñ OFFSET

OFFSET —É–∫–∞–∑—ã–≤–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π –Ω—É–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –æ—Ç –Ω–∞—á–∞–ª–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ –Ω–∞—á–∞—Ç—å –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.

¬∑ –ê–Ω–∞–ª–∏–≥–∏—è: "–ü—Ä–æ–ø—É—Å—Ç–∏ –ø–µ—Ä–≤—ã–µ M –∑–∞–ø–∏—Å–µ–π, –∞ –∑–∞—Ç–µ–º –Ω–∞—á–∏–Ω–∞–π –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –¥–∞–Ω–Ω—ã–µ."
¬∑ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å LIMIT –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É. OFFSET —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ (–ù–æ–º–µ—Ä_—Å—Ç—Ä–∞–Ω–∏—Ü—ã - 1) * –†–∞–∑–º–µ—Ä_—Å—Ç—Ä–∞–Ω–∏—Ü—ã.

üíª –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```sql
SELECT * FROM —Ç–∞–±–ª–∏—Ü–∞
LIMIT 10 OFFSET 20; -- –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å 20 –∑–∞–ø–∏—Å–µ–π, –≤–µ—Ä–Ω—É—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ 10
```

üß™ –ü—Ä–∏–º–µ—Ä

```sql
-- –ü–æ–ª—É—á–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å 6-–≥–æ –ø–æ 10-–π (–≤—Ç–æ—Ä–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–∏ —Ä–∞–∑–º–µ—Ä–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã 5)
SELECT name, hire_date FROM employees
ORDER BY hire_date DESC
LIMIT 5 OFFSET 5;
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: –ü—Ä–æ–ø—É—â–µ–Ω—ã –ø–µ—Ä–≤—ã–µ 5 –∑–∞–ø–∏—Å–µ–π, –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ 5.

---

üí° LIMIT –∏ OFFSET –≤–º–µ—Å—Ç–µ

–í–º–µ—Å—Ç–µ –æ–Ω–∏ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞.

–§–æ—Ä–º—É–ª–∞ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏:

```sql
SELECT * FROM —Ç–∞–±–ª–∏—Ü–∞
ORDER BY —Å—Ç–æ–ª–±–µ—Ü_–¥–ª—è_—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
LIMIT {–†–∞–∑–º–µ—Ä_—Å—Ç—Ä–∞–Ω–∏—Ü—ã} OFFSET {(–ù–æ–º–µ—Ä_—Å—Ç—Ä–∞–Ω–∏—Ü—ã - 1) * –†–∞–∑–º–µ—Ä_—Å—Ç—Ä–∞–Ω–∏—Ü—ã};
```

üß™ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —É –≤–∞—Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –∏ –≤—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç–µ —Ç–æ–≤–∞—Ä—ã –ø–æ 10 –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É.

```sql
-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ 1 (–ø–µ—Ä–≤—ã–µ 10 —Ç–æ–≤–∞—Ä–æ–≤)
SELECT id, name, price FROM products
ORDER BY name
LIMIT 10 OFFSET 0;

-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ 2 (—Å–ª–µ–¥—É—é—â–∏–µ 10 —Ç–æ–≤–∞—Ä–æ–≤)
SELECT id, name, price FROM products
ORDER BY name
LIMIT 10 OFFSET 10;

-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ 3
SELECT id, name, price FROM products
ORDER BY name
LIMIT 10 OFFSET 20;
```

---

‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã

1. –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π ORDER BY: –ë–µ–∑ ORDER BY –ø–æ—Ä—è–¥–æ–∫ –∑–∞–ø–∏—Å–µ–π –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω. –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è—Ö –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –∑–∞–ø—Ä–æ—Å–∞ —Å LIMIT/OFFSET. –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ORDER BY –¥–ª—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.
2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –±–æ–ª—å—à–∏—Ö —Å–º–µ—â–µ–Ω–∏—è—Ö: OFFSET N —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ "–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å N –∑–∞–ø–∏—Å–µ–π". –ù–∞ –≥–ª—É–±–æ–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, OFFSET 1000000) –°–£–ë–î –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –≤—Å–µ —ç—Ç–∏ –∑–∞–ø–∏—Å–∏, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º. –î–ª—è –æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö –Ω–∞–±–æ—Ä–æ–≤ –¥–∞–Ω–Ω—ã—Ö –∏ –≥–ª—É–±–æ–∫–æ–π –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, Keyset Pagination –∏–ª–∏ "–∫—É—Ä—Å–æ—Ä—ã").
3. –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ —Ä–∞–∑–ª–∏—á–∏—è:
   ¬∑ MySQL, PostgreSQL, SQLite: LIMIT {limit} OFFSET {offset} (–∏–ª–∏ LIMIT {offset}, {limit} –≤ MySQL).
   ¬∑ SQL Server: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç OFFSET {offset} ROWS FETCH NEXT {limit} ROWS ONLY.
   ¬∑ Oracle: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç OFFSET {offset} ROWS FETCH NEXT {limit} ROWS ONLY (–≤ –≤–µ—Ä—Å–∏—è—Ö 12c –∏ –Ω–æ–≤–µ–µ).

---

üîÑ –°–≤—è–∑–∞–Ω–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è

¬∑ [[ORDER BY]]
¬∑ [[WHERE]]
¬∑ –ü–∞–≥–∏–Ω–∞—Ü–∏—è –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö
¬∑ Keyset Pagination (–ú–µ—Ç–æ–¥ –ø–æ–∏—Å–∫–∞ –ø–æ –∫–ª—é—á—É)

---

‚úÖ –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã –¥–ª—è –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π

1. LIMIT ‚Äî —ç—Ç–æ "—Å–∫–æ–ª—å–∫–æ".
2. OFFSET ‚Äî —ç—Ç–æ "—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å".
3. –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π ORDER BY –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç–∏.
4. –ò–¥–µ–∞–ª—å–Ω–∞—è –ø–∞—Ä–∞ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞ (–ø–∞–≥–∏–Ω–∞—Ü–∏–∏).